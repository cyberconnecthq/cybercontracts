// SPDX-License-Identifier: MIT

pragma solidity 0.8.14;

import "forge-std/Test.sol";
import { QRSVG } from "../src/libraries/QRSVG.sol";
import "forge-std/console.sol";

contract QRSVGBasicTest is Test {
    string url = "https://link3.to/cyberconnect";

    function testGenerateQR() public {
        string memory code = QRSVG.generateQRCode(url);
        assertEq(
            code,
            "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9Ijc0cHgiIGhlaWdodD0iNzRweCIgdmlld0JveD0iMCAwIDc0IDc0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ3aGl0ZSIgY3g9IjAiIGN5PSIwIi8+PHBhdGggZD0iTTgsOGwxNCwwIE0yNiw4bDIsMCBNMzIsOGw0LDAgTTM4LDhsNCwwIE00NCw4bDYsMCBNNTIsOGwxNCwwIE04LDEwbDIsMCBNMjAsMTBsMiwwIE0yNCwxMGw0LDAgTTMyLDEwbDYsMCBNNDIsMTBsNCwwIE01MiwxMGwyLDAgTTY0LDEwbDIsMCBNOCwxMmwyLDAgTTEyLDEybDYsMCBNMjAsMTJsMiwwIE0yNiwxMmwyLDAgTTMyLDEybDQsMCBNNDAsMTJsMiwwIE00NiwxMmwyLDAgTTUyLDEybDIsMCBNNTYsMTJsNiwwIE02NCwxMmwyLDAgTTgsMTRsMiwwIE0xMiwxNGw2LDAgTTIwLDE0bDIsMCBNMjQsMTRsNCwwIE0zMiwxNGwyLDAgTTM2LDE0bDIsMCBNNDIsMTRsMiwwIE00OCwxNGwyLDAgTTUyLDE0bDIsMCBNNTYsMTRsNiwwIE02NCwxNGwyLDAgTTgsMTZsMiwwIE0xMiwxNmw2LDAgTTIwLDE2bDIsMCBNMjYsMTZsMiwwIE0zMiwxNmw0LDAgTTM4LDE2bDEyLDAgTTUyLDE2bDIsMCBNNTYsMTZsNiwwIE02NCwxNmwyLDAgTTgsMThsMiwwIE0yMCwxOGwyLDAgTTI0LDE4bDQsMCBNMzIsMThsNiwwIE00MiwxOGwyLDAgTTQ4LDE4bDIsMCBNNTIsMThsMiwwIE02NCwxOGwyLDAgTTgsMjBsMTQsMCBNMjQsMjBsMiwwIE0yOCwyMGwyLDAgTTMyLDIwbDIsMCBNMzYsMjBsMiwwIE00MCwyMGwyLDAgTTQ0LDIwbDIsMCBNNDgsMjBsMiwwIE01MiwyMGwxNCwwIE0yNiwyMmwyLDAgTTMyLDIybDQsMCBNNDAsMjJsMiwwIE00OCwyMmwyLDAgTTgsMjRsMTAsMCBNMjAsMjRsOCwwIE0zMiwyNGwyLDAgTTM2LDI0bDIsMCBNNDIsMjRsMiwwIE01MCwyNGwyLDAgTTU0LDI0bDIsMCBNNTgsMjRsMiwwIE02MiwyNGwyLDAgTTE2LDI2bDIsMCBNMjQsMjZsNCwwIE0zMiwyNmw0LDAgTTM4LDI2bDEyLDAgTTUyLDI2bDIsMCBNNTYsMjZsMiwwIE02NCwyNmwyLDAgTTE2LDI4bDIsMCBNMjAsMjhsNCwwIE0yNiwyOGwyLDAgTTMyLDI4bDYsMCBNNDIsMjhsMiwwIE01MCwyOGwyLDAgTTU0LDI4bDIsMCBNOCwzMGwyLDAgTTEyLDMwbDgsMCBNMjIsMzBsNiwwIE0zMiwzMGw0LDAgTTQwLDMwbDIsMCBNNDQsMzBsNCwwIE01MiwzMGwyLDAgTTU4LDMwbDIsMCBNNjIsMzBsMiwwIE04LDMybDEwLDAgTTIwLDMybDIsMCBNMjYsMzJsMiwwIE0zMiwzMmwyLDAgTTM2LDMybDIsMCBNNDIsMzJsMiwwIE01MCwzMmwyLDAgTTU4LDMybDQsMCBNOCwzNGw2LDAgTTI2LDM0bDIsMCBNMzIsMzRsNCwwIE0zOCwzNGwyMCwwIE02NCwzNGwyLDAgTTgsMzZsMTAsMCBNMjAsMzZsNCwwIE0zMiwzNmw2LDAgTTQyLDM2bDIsMCBNNDgsMzZsMiwwIE01MiwzNmwyLDAgTTU4LDM2bDQsMCBNMTQsMzhsMiwwIE0xOCwzOGwyLDAgTTI0LDM4bDQsMCBNMzIsMzhsNCwwIE00MCwzOGwyLDAgTTQ0LDM4bDIsMCBNNTAsMzhsNiwwIE02MiwzOGwyLDAgTTEwLDQwbDIsMCBNMTYsNDBsMiwwIE0yMCw0MGwyLDAgTTI2LDQwbDQsMCBNMzIsNDBsMiwwIE0zNiw0MGwyLDAgTTQyLDQwbDIsMCBNNDYsNDBsNCwwIE01OCw0MGw0LDAgTTEwLDQybDIsMCBNMjIsNDJsOCwwIE0zMiw0Mmw0LDAgTTM4LDQybDQsMCBNNDQsNDJsNiwwIE01Miw0Mmw2LDAgTTYwLDQybDIsMCBNNjQsNDJsMiwwIE0xMiw0NGw2LDAgTTIwLDQ0bDIsMCBNMjQsNDRsNiwwIE0zMiw0NGw2LDAgTTQ4LDQ0bDIsMCBNNTQsNDRsNCwwIE02MCw0NGwyLDAgTTEyLDQ2bDIsMCBNMjIsNDZsNCwwIE0zMiw0Nmw0LDAgTTQwLDQ2bDIsMCBNNDYsNDZsMiwwIE01MCw0NmwyLDAgTTYyLDQ2bDIsMCBNMTQsNDhsMiwwIE0yMCw0OGwyLDAgTTI0LDQ4bDIsMCBNMzIsNDhsMiwwIE0zNiw0OGwyLDAgTTQyLDQ4bDIsMCBNNDgsNDhsMTAsMCBNNjAsNDhsNiwwIE0yNCw1MGwyLDAgTTMyLDUwbDIsMCBNMzgsNTBsNCwwIE00NCw1MGwyLDAgTTQ4LDUwbDIsMCBNNTYsNTBsMTAsMCBNOCw1MmwxNCwwIE0yNCw1MmwyLDAgTTI4LDUybDIsMCBNMzIsNTJsMiwwIE00Miw1Mmw4LDAgTTUyLDUybDIsMCBNNTYsNTJsNiwwIE04LDU0bDIsMCBNMjAsNTRsMiwwIE0yOCw1NGwyLDAgTTMyLDU0bDIsMCBNMzYsNTRsMiwwIE00MCw1NGwyLDAgTTQ2LDU0bDQsMCBNNTYsNTRsMiwwIE04LDU2bDIsMCBNMTIsNTZsNiwwIE0yMCw1NmwyLDAgTTI0LDU2bDYsMCBNMzIsNTZsMiwwIE00Miw1NmwyLDAgTTQ4LDU2bDEwLDAgTTYwLDU2bDIsMCBNNjQsNTZsMiwwIE04LDU4bDIsMCBNMTIsNThsNiwwIE0yMCw1OGwyLDAgTTI0LDU4bDYsMCBNMzIsNThsMiwwIE0zNiw1OGw2LDAgTTQ2LDU4bDQsMCBNNTgsNThsNCwwIE04LDYwbDIsMCBNMTIsNjBsNiwwIE0yMCw2MGwyLDAgTTI0LDYwbDYsMCBNMzIsNjBsMiwwIE00Niw2MGwxOCwwIE04LDYybDIsMCBNMjAsNjJsMiwwIE0yNCw2Mmw0LDAgTTMyLDYybDIsMCBNNDAsNjJsMiwwIE00NCw2MmwyLDAgTTQ4LDYybDIsMCBNNTIsNjJsMiwwIE01Niw2Mmw0LDAgTTYyLDYybDIsMCBNOCw2NGwxNCwwIE0yNCw2NGwyLDAgTTMyLDY0bDIsMCBNNDQsNjRsMiwwIE01Miw2NGw0LDAgTTYwLDY0bDIsMCAiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0idHJhbnNwYXJlbnQiLz48L3N2Zz4="
        );
    }

    function testInternalGeneralURI() public {
        QRSVG.QRMatrix memory m;
        string memory uri = QRSVG.generateQRURI(m);
        console.log(uri);
    }

    function testGenerateQRWeirdName() public {
        string memory handle = "https://link3.to/2isbq50_0q8eo_y90ccjv1gfs";
        string memory code = QRSVG.generateQRCode(handle);
        assertEq(
            code,
            "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9Ijc0cHgiIGhlaWdodD0iNzRweCIgdmlld0JveD0iMCAwIDc0IDc0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ3aGl0ZSIgY3g9IjAiIGN5PSIwIi8+PHBhdGggZD0iTTgsOGwxNCwwIE0yNiw4bDIsMCBNMzIsOGw0LDAgTTQwLDhsMiwwIE00Niw4bDIsMCBNNTIsOGwxNCwwIE04LDEwbDIsMCBNMjAsMTBsMiwwIE0yNCwxMGw0LDAgTTMyLDEwbDQsMCBNMzgsMTBsNCwwIE00OCwxMGwyLDAgTTUyLDEwbDIsMCBNNjQsMTBsMiwwIE04LDEybDIsMCBNMTIsMTJsNiwwIE0yMCwxMmwyLDAgTTI2LDEybDIsMCBNMzIsMTJsMiwwIE01MiwxMmwyLDAgTTU2LDEybDYsMCBNNjQsMTJsMiwwIE04LDE0bDIsMCBNMTIsMTRsNiwwIE0yMCwxNGwyLDAgTTI0LDE0bDQsMCBNMzIsMTRsOCwwIE00MiwxNGw0LDAgTTQ4LDE0bDIsMCBNNTIsMTRsMiwwIE01NiwxNGw2LDAgTTY0LDE0bDIsMCBNOCwxNmwyLDAgTTEyLDE2bDYsMCBNMjAsMTZsMiwwIE0yNiwxNmwyLDAgTTMyLDE2bDIsMCBNMzYsMTZsMiwwIE00MCwxNmwyLDAgTTQ2LDE2bDQsMCBNNTIsMTZsMiwwIE01NiwxNmw2LDAgTTY0LDE2bDIsMCBNOCwxOGwyLDAgTTIwLDE4bDIsMCBNMjQsMThsNCwwIE0zMiwxOGwxMCwwIE00NCwxOGwyLDAgTTUyLDE4bDIsMCBNNjQsMThsMiwwIE04LDIwbDE0LDAgTTI0LDIwbDIsMCBNMjgsMjBsMiwwIE0zMiwyMGwyLDAgTTM2LDIwbDIsMCBNNDAsMjBsMiwwIE00NCwyMGwyLDAgTTQ4LDIwbDIsMCBNNTIsMjBsMTQsMCBNMjYsMjJsMiwwIE0zMiwyMmwyLDAgTTQ0LDIybDQsMCBNOCwyNGwxMCwwIE0yMCwyNGw4LDAgTTMyLDI0bDQsMCBNMzgsMjRsMiwwIE01MCwyNGwyLDAgTTU0LDI0bDIsMCBNNTgsMjRsMiwwIE02MiwyNGwyLDAgTTgsMjZsOCwwIE0yMiwyNmwyLDAgTTI2LDI2bDIsMCBNMzIsMjZsMiwwIE0zNiwyNmwyLDAgTTQwLDI2bDQsMCBNNDYsMjZsNCwwIE01MiwyNmwyLDAgTTU2LDI2bDIsMCBNNjQsMjZsMiwwIE0xMCwyOGwyLDAgTTE2LDI4bDIsMCBNMjAsMjhsOCwwIE0zMiwyOGwyLDAgTTM4LDI4bDIsMCBNNDIsMjhsMiwwIE00OCwyOGw0LDAgTTU0LDI4bDIsMCBNOCwzMGwxMiwwIE0yMiwzMGwyLDAgTTI2LDMwbDIsMCBNMzIsMzBsMiwwIE0zNiwzMGw0LDAgTTQ2LDMwbDIsMCBNNTIsMzBsMiwwIE01OCwzMGwyLDAgTTYyLDMwbDIsMCBNOCwzMmw0LDAgTTE2LDMybDEyLDAgTTMyLDMybDE0LDAgTTQ4LDMybDQsMCBNNTgsMzJsNCwwIE04LDM0bDQsMCBNMTgsMzRsMiwwIE0yMiwzNGw0LDAgTTMyLDM0bDIsMCBNNDYsMzRsMTIsMCBNNjQsMzRsMiwwIE0xNiwzNmw2LDAgTTI0LDM2bDYsMCBNMzIsMzZsMTAsMCBNNDQsMzZsMiwwIE00OCwzNmwyLDAgTTUyLDM2bDIsMCBNNTgsMzZsNCwwIE0xMiwzOGwyLDAgTTMyLDM4bDIsMCBNMzYsMzhsNCwwIE00NCwzOGwyLDAgTTUwLDM4bDYsMCBNNjIsMzhsMiwwIE04LDQwbDYsMCBNMTgsNDBsNCwwIE0yNCw0MGwyLDAgTTMyLDQwbDYsMCBNNDAsNDBsNCwwIE00Niw0MGwyLDAgTTU4LDQwbDQsMCBNMTgsNDJsMiwwIE0yMiw0Mmw0LDAgTTMyLDQybDIsMCBNNDYsNDJsNCwwIE01Miw0Mmw2LDAgTTYwLDQybDIsMCBNNjQsNDJsMiwwIE0xNCw0NGw0LDAgTTIwLDQ0bDIsMCBNMjYsNDRsNCwwIE0zMiw0NGwxMCwwIE00NCw0NGwyLDAgTTU0LDQ0bDQsMCBNNjAsNDRsMiwwIE0xNCw0Nmw0LDAgTTI4LDQ2bDIsMCBNMzIsNDZsMiwwIE0zOCw0NmwyLDAgTTQ2LDQ2bDIsMCBNNTAsNDZsMiwwIE02Miw0NmwyLDAgTTEyLDQ4bDYsMCBNMjAsNDhsNCwwIE0zMiw0OGw2LDAgTTQwLDQ4bDYsMCBNNDgsNDhsMTAsMCBNNjAsNDhsNiwwIE0yNCw1MGw0LDAgTTMyLDUwbDIsMCBNMzYsNTBsMiwwIE00MCw1MGw0LDAgTTQ2LDUwbDQsMCBNNTYsNTBsMTAsMCBNOCw1MmwxNCwwIE0yNCw1MmwyLDAgTTI4LDUybDIsMCBNMzIsNTJsNCwwIE0zOCw1Mmw0LDAgTTQ0LDUybDYsMCBNNTIsNTJsMiwwIE01Niw1Mmw2LDAgTTgsNTRsMiwwIE0yMCw1NGwyLDAgTTMyLDU0bDIsMCBNMzYsNTRsMiwwIE00MCw1NGwyLDAgTTQ0LDU0bDIsMCBNNDgsNTRsMiwwIE01Niw1NGwyLDAgTTYyLDU0bDQsMCBNOCw1NmwyLDAgTTEyLDU2bDYsMCBNMjAsNTZsMiwwIE0yNCw1NmwyLDAgTTI4LDU2bDIsMCBNMzIsNTZsMiwwIE00MCw1Nmw0LDAgTTQ4LDU2bDEwLDAgTTYwLDU2bDYsMCBNOCw1OGwyLDAgTTEyLDU4bDYsMCBNMjAsNThsMiwwIE0yNCw1OGw2LDAgTTMyLDU4bDIsMCBNMzgsNThsNCwwIE00NCw1OGw2LDAgTTU4LDU4bDgsMCBNOCw2MGwyLDAgTTEyLDYwbDYsMCBNMjAsNjBsMiwwIE0yNCw2MGwyLDAgTTI4LDYwbDIsMCBNMzIsNjBsMiwwIE0zOCw2MGw0LDAgTTQ2LDYwbDE4LDAgTTgsNjJsMiwwIE0yMCw2MmwyLDAgTTI0LDYybDIsMCBNMjgsNjJsMiwwIE0zMiw2MmwyLDAgTTQwLDYybDIsMCBNNDgsNjJsMiwwIE01Miw2MmwyLDAgTTU2LDYybDQsMCBNNjIsNjJsMiwwIE04LDY0bDE0LDAgTTI0LDY0bDYsMCBNMzIsNjRsMiwwIE00Miw2NGwyLDAgTTUyLDY0bDQsMCBNNjAsNjRsMiwwICIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJ0cmFuc3BhcmVudCIvPjwvc3ZnPg=="
        );
    }
}
