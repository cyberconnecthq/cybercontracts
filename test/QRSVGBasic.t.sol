// SPDX-License-Identifier: GPL-3.0-or-later

pragma solidity 0.8.14;

import "forge-std/Test.sol";
import "forge-std/console.sol";

import { QRSVG } from "../src/libraries/QRSVG.sol";

contract QRSVGBasicTest is Test {
    string url = "https://link3.to/cyberconnect";

    function testGenerateQR() public {
        string memory code = QRSVG.generateQRCode(url);
        assertEq(
            code,
            "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwLjUgMjkgMjkiPjxwYXRoIGQ9Ik0wLDFsNywwIE0xMywxbDEsMCBNMTUsMWwyLDAgTTE4LDFsMywwIE0yMiwxbDcsMCBNMCwybDEsMCBNNiwybDEsMCBNOCwybDEsMCBNMTAsMmw1LDAgTTE3LDJsMiwwIE0yMiwybDEsMCBNMjgsMmwxLDAgTTAsM2wxLDAgTTIsM2wzLDAgTTYsM2wxLDAgTTExLDNsMSwwIE0xMywzbDEsMCBNMTYsM2wxLDAgTTE5LDNsMSwwIE0yMiwzbDEsMCBNMjQsM2wzLDAgTTI4LDNsMSwwIE0wLDRsMSwwIE0yLDRsMywwIE02LDRsMSwwIE04LDRsNSwwIE0xNCw0bDEsMCBNMTcsNGwxLDAgTTIwLDRsMSwwIE0yMiw0bDEsMCBNMjQsNGwzLDAgTTI4LDRsMSwwIE0wLDVsMSwwIE0yLDVsMywwIE02LDVsMSwwIE0xMyw1bDEsMCBNMTUsNWw2LDAgTTIyLDVsMSwwIE0yNCw1bDMsMCBNMjgsNWwxLDAgTTAsNmwxLDAgTTYsNmwxLDAgTTgsNmwxLDAgTTEwLDZsNSwwIE0xNyw2bDEsMCBNMjAsNmwxLDAgTTIyLDZsMSwwIE0yOCw2bDEsMCBNMCw3bDcsMCBNOCw3bDEsMCBNMTAsN2wxLDAgTTEyLDdsMSwwIE0xNCw3bDEsMCBNMTYsN2wxLDAgTTE4LDdsMSwwIE0yMCw3bDEsMCBNMjIsN2w3LDAgTTExLDhsMSwwIE0xMyw4bDEsMCBNMTYsOGwxLDAgTTIwLDhsMSwwIE0wLDlsNSwwIE02LDlsNywwIE0xNCw5bDEsMCBNMTcsOWwxLDAgTTIxLDlsMSwwIE0yMyw5bDEsMCBNMjUsOWwxLDAgTTI3LDlsMSwwIE0xLDEwbDIsMCBNNSwxMGwxLDAgTTcsMTBsMSwwIE05LDEwbDEsMCBNMTMsMTBsMSwwIE0xNSwxMGw2LDAgTTIyLDEwbDEsMCBNMjQsMTBsMSwwIE0yOCwxMGwxLDAgTTAsMTFsMSwwIE0yLDExbDEsMCBNNCwxMWw2LDAgTTExLDExbDQsMCBNMTcsMTFsMSwwIE0yMSwxMWwxLDAgTTIzLDExbDEsMCBNMiwxMmwzLDAgTTcsMTJsMSwwIE05LDEybDMsMCBNMTMsMTJsMSwwIE0xNiwxMmwxLDAgTTE4LDEybDIsMCBNMjIsMTJsMSwwIE0yNSwxMmwxLDAgTTI3LDEybDEsMCBNMCwxM2wxLDAgTTIsMTNsMiwwIE02LDEzbDQsMCBNMTEsMTNsMiwwIE0xNCwxM2wxLDAgTTE3LDEzbDEsMCBNMjEsMTNsMSwwIE0yNSwxM2wyLDAgTTAsMTRsMywwIE01LDE0bDEsMCBNOCwxNGwxLDAgTTEwLDE0bDEsMCBNMTMsMTRsMSwwIE0xNSwxNGwxMCwwIE0yOCwxNGwxLDAgTTAsMTVsMSwwIE02LDE1bDIsMCBNOSwxNWwxLDAgTTExLDE1bDQsMCBNMTcsMTVsMSwwIE0yMCwxNWwxLDAgTTIyLDE1bDEsMCBNMjUsMTVsMiwwIE0wLDE2bDEsMCBNMiwxNmwxLDAgTTQsMTZsMSwwIE05LDE2bDMsMCBNMTMsMTZsMSwwIE0xNiwxNmwxLDAgTTE4LDE2bDEsMCBNMjEsMTZsMywwIE0yNywxNmwxLDAgTTEsMTdsMiwwIE01LDE3bDIsMCBNMTEsMTdsMiwwIE0xNCwxN2wxLDAgTTE3LDE3bDEsMCBNMTksMTdsMiwwIE0yNSwxN2wyLDAgTTIsMThsMiwwIE04LDE4bDMsMCBNMTMsMThsMSwwIE0xNSwxOGwyLDAgTTE4LDE4bDMsMCBNMjIsMThsMywwIE0yNiwxOGwxLDAgTTI4LDE4bDEsMCBNMywxOWwxLDAgTTYsMTlsMywwIE0xMSwxOWw0LDAgTTIwLDE5bDEsMCBNMjMsMTlsMiwwIE0yNiwxOWwxLDAgTTMsMjBsMiwwIE03LDIwbDUsMCBNMTMsMjBsMSwwIE0xNiwyMGwxLDAgTTE5LDIwbDEsMCBNMjEsMjBsMSwwIE0yNywyMGwxLDAgTTIsMjFsMSwwIE00LDIxbDEsMCBNNiwyMWwzLDAgTTEwLDIxbDMsMCBNMTQsMjFsMSwwIE0xNywyMWwxLDAgTTIwLDIxbDUsMCBNMjYsMjFsMywwIE04LDIybDEsMCBNMTAsMjJsMSwwIE0xMywyMmwxLDAgTTE1LDIybDIsMCBNMTgsMjJsMSwwIE0yMCwyMmwxLDAgTTI0LDIybDUsMCBNMCwyM2w3LDAgTTgsMjNsNywwIE0xNywyM2w0LDAgTTIyLDIzbDEsMCBNMjQsMjNsMywwIE0wLDI0bDEsMCBNNiwyNGwxLDAgTTksMjRsMSwwIE0xMSwyNGwxLDAgTTEzLDI0bDEsMCBNMTYsMjRsMSwwIE0xOSwyNGwyLDAgTTI0LDI0bDEsMCBNMCwyNWwxLDAgTTIsMjVsMywwIE02LDI1bDEsMCBNOCwyNWw1LDAgTTE0LDI1bDEsMCBNMTcsMjVsMSwwIE0yMCwyNWw1LDAgTTI2LDI1bDEsMCBNMjgsMjVsMSwwIE0wLDI2bDEsMCBNMiwyNmwzLDAgTTYsMjZsMSwwIE04LDI2bDEsMCBNMTMsMjZsMSwwIE0xNSwyNmwyLDAgTTE5LDI2bDIsMCBNMjUsMjZsMiwwIE0wLDI3bDEsMCBNMiwyN2wzLDAgTTYsMjdsMSwwIE04LDI3bDEsMCBNMTAsMjdsNSwwIE0xOSwyN2w5LDAgTTAsMjhsMSwwIE02LDI4bDEsMCBNOCwyOGwxLDAgTTEwLDI4bDIsMCBNMTMsMjhsMSwwIE0xNiwyOGwxLDAgTTE4LDI4bDEsMCBNMjAsMjhsMSwwIE0yMiwyOGwxLDAgTTI0LDI4bDIsMCBNMjcsMjhsMSwwIE0wLDI5bDcsMCBNOCwyOWwxLDAgTTExLDI5bDIsMCBNMTQsMjlsMSwwIE0xOCwyOWwxLDAgTTIyLDI5bDIsMCBNMjYsMjlsMSwwICIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIi8+PC9zdmc+"
        );
    }

    function testInternalGeneralURI() public view {
        QRSVG.QRMatrix memory m;
        string memory uri = QRSVG.generateQRURI(m);
        console.log(uri);
    }

    function testGenerateQRWeirdName() public {
        string memory handle = "https://link3.to/2isbq50_0q8eo_y90ccjv1gfs";
        string memory code = QRSVG.generateQRCode(handle);
        assertEq(
            code,
            "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwLjUgMjkgMjkiPjxwYXRoIGQ9Ik0wLDFsNywwIE0xMywxbDEsMCBNMTYsMWwxLDAgTTE5LDFsMSwwIE0yMiwxbDcsMCBNMCwybDEsMCBNNiwybDEsMCBNOCwybDEsMCBNMTAsMmw0LDAgTTE1LDJsMiwwIE0yMCwybDEsMCBNMjIsMmwxLDAgTTI4LDJsMSwwIE0wLDNsMSwwIE0yLDNsMywwIE02LDNsMSwwIE0xMSwzbDEsMCBNMjIsM2wxLDAgTTI0LDNsMywwIE0yOCwzbDEsMCBNMCw0bDEsMCBNMiw0bDMsMCBNNiw0bDEsMCBNOCw0bDgsMCBNMTcsNGwyLDAgTTIwLDRsMSwwIE0yMiw0bDEsMCBNMjQsNGwzLDAgTTI4LDRsMSwwIE0wLDVsMSwwIE0yLDVsMywwIE02LDVsMSwwIE0xNCw1bDEsMCBNMTYsNWwxLDAgTTE5LDVsMiwwIE0yMiw1bDEsMCBNMjQsNWwzLDAgTTI4LDVsMSwwIE0wLDZsMSwwIE02LDZsMSwwIE04LDZsMSwwIE0xMCw2bDcsMCBNMTgsNmwxLDAgTTIyLDZsMSwwIE0yOCw2bDEsMCBNMCw3bDcsMCBNOCw3bDEsMCBNMTAsN2wxLDAgTTEyLDdsMSwwIE0xNCw3bDEsMCBNMTYsN2wxLDAgTTE4LDdsMSwwIE0yMCw3bDEsMCBNMjIsN2w3LDAgTTExLDhsMSwwIE0xOCw4bDIsMCBNMCw5bDUsMCBNNiw5bDgsMCBNMTUsOWwxLDAgTTIxLDlsMSwwIE0yMyw5bDEsMCBNMjUsOWwxLDAgTTI3LDlsMSwwIE0zLDEwbDMsMCBNNywxMGwzLDAgTTE0LDEwbDEsMCBNMTYsMTBsMiwwIE0xOSwxMGwyLDAgTTIyLDEwbDEsMCBNMjQsMTBsMSwwIE0yOCwxMGwxLDAgTTMsMTFsMSwwIE01LDExbDUsMCBNMTEsMTFsMiwwIE0xNSwxMWwxLDAgTTE3LDExbDEsMCBNMjAsMTFsMiwwIE0yMywxMWwxLDAgTTEsMTJsMiwwIE00LDEybDEsMCBNNywxMmwxLDAgTTksMTJsMywwIE0xNCwxMmwyLDAgTTE5LDEybDEsMCBNMjIsMTJsMSwwIE0yNSwxMmwxLDAgTTI3LDEybDEsMCBNMCwxM2wxLDAgTTMsMTNsNSwwIE05LDEzbDEsMCBNMTEsMTNsOCwwIE0yMCwxM2wyLDAgTTI1LDEzbDIsMCBNMCwxNGwyLDAgTTQsMTRsMiwwIE03LDE0bDIsMCBNMTAsMTRsMSwwIE0xOSwxNGw2LDAgTTI4LDE0bDEsMCBNMSwxNWwzLDAgTTUsMTVsMiwwIE05LDE1bDgsMCBNMTgsMTVsMSwwIE0yMCwxNWwxLDAgTTIyLDE1bDEsMCBNMjUsMTVsMiwwIE0xLDE2bDEsMCBNMTEsMTZsMSwwIE0xNCwxNmwyLDAgTTE4LDE2bDEsMCBNMjEsMTZsMywwIE0yNywxNmwxLDAgTTQsMTdsMSwwIE02LDE3bDQsMCBNMTEsMTdsNCwwIE0xNiwxN2wyLDAgTTE5LDE3bDEsMCBNMjUsMTdsMiwwIE0xLDE4bDMsMCBNNSwxOGwxLDAgTTcsMThsMSwwIE0xMCwxOGwxLDAgTTE5LDE4bDIsMCBNMjIsMThsMywwIE0yNiwxOGwxLDAgTTI4LDE4bDEsMCBNMiwxOWwyLDAgTTYsMTlsMSwwIE04LDE5bDIsMCBNMTEsMTlsNiwwIE0xOCwxOWwxLDAgTTIzLDE5bDIsMCBNMjYsMTlsMSwwIE0yLDIwbDIsMCBNNSwyMGwxLDAgTTksMjBsMSwwIE0xMSwyMGwxLDAgTTE1LDIwbDEsMCBNMTksMjBsMSwwIE0yMSwyMGwxLDAgTTI3LDIwbDEsMCBNMiwyMWw1LDAgTTgsMjFsMiwwIE0xMSwyMWw0LDAgTTE2LDIxbDMsMCBNMjAsMjFsNSwwIE0yNiwyMWwzLDAgTTgsMjJsMSwwIE0xMCwyMmwxLDAgTTE0LDIybDEsMCBNMTYsMjJsMiwwIE0xOSwyMmwyLDAgTTI0LDIybDUsMCBNMCwyM2w3LDAgTTgsMjNsMiwwIE0xMSwyM2wzLDAgTTE1LDIzbDIsMCBNMTgsMjNsMywwIE0yMiwyM2wxLDAgTTI0LDIzbDMsMCBNMCwyNGwxLDAgTTYsMjRsMSwwIE0xMCwyNGwyLDAgTTE0LDI0bDEsMCBNMTYsMjRsMSwwIE0xOCwyNGwxLDAgTTIwLDI0bDEsMCBNMjQsMjRsMSwwIE0yNywyNGwyLDAgTTAsMjVsMSwwIE0yLDI1bDMsMCBNNiwyNWwxLDAgTTgsMjVsMSwwIE0xMCwyNWwzLDAgTTE2LDI1bDIsMCBNMjAsMjVsNSwwIE0yNiwyNWwzLDAgTTAsMjZsMSwwIE0yLDI2bDMsMCBNNiwyNmwxLDAgTTgsMjZsMSwwIE0xMywyNmwxLDAgTTE1LDI2bDIsMCBNMTgsMjZsMywwIE0yNSwyNmw0LDAgTTAsMjdsMSwwIE0yLDI3bDMsMCBNNiwyN2wxLDAgTTgsMjdsMSwwIE0xMCwyN2w3LDAgTTE5LDI3bDksMCBNMCwyOGwxLDAgTTYsMjhsMSwwIE04LDI4bDQsMCBNMTMsMjhsMSwwIE0xNiwyOGwxLDAgTTIwLDI4bDEsMCBNMjIsMjhsMSwwIE0yNCwyOGwyLDAgTTI3LDI4bDEsMCBNMCwyOWw3LDAgTTgsMjlsMiwwIE0xMSwyOWwyLDAgTTE0LDI5bDEsMCBNMTcsMjlsMSwwIE0yMiwyOWwyLDAgTTI2LDI5bDEsMCAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIvPjwvc3ZnPg=="
        );
    }
}
